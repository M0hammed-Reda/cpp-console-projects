@startuml
    class User {
        - int id
        - string name
        - string user_name
        - string email
        - string password
        - bool allow_anonymous_questions
        - enum role
        + Getters and Setters
    }
    
    class Question {
        - int id
        - string text
        - string answer
        - int from_user_id
        - int to_user_id
        - int parent_id
        - bool is_anonymous
        + Getters and Setters
    }
    
    class FileManager {
        - string users_file_path
        - string questions_file_path
        + ReadInformationFromFile()
        + StoreInformationFromFile()
        + UpdateFile()
        + LoadUsers()
        + LoadQuestions()
        + SaveUsers()
        + SaveQuestions()
        + GetNextUserID()
        + GetNextQuestionID()
    }
    
    class AuthService {
        - UserManager user_manager
        - User current_user
        + Login()
        + SignUp()
        + LogOut()
        + ValidateCredentials()
        + GetCurrentUser()
    }
    
    class QuestionManager {
        - vector<Question> questions
        - UserManager user_manager
        - FileManager file_manager
        + AskQuestion()
        + AnswerQuestion()
        + DeleteQuestion()
        + GetQuestionsToUser(int user_id)
        + GetQuestionsFromUser(int user_id)
        + GetThreadQuestions(int parent_id)
        + GetFeed()
        + CreateThreadQuestion(int parent_id)
        + GetEntireThread(int question_id)
        + DeleteThread(int parent_id)
        + CanUserDeleteQuestion(int user_id, int question_id)
        + CanUserAnswerQuestion(int user_id, int question_id)
        + IsAnonymousAllowed(int to_user_id)
    }
    
    class UserManager {
        - vector<User> users
        - FileManager file_manager
        + ListingUsers()
        + UpdateUserProfile()
        + GetUserByID(int user_id)
        + GetUserByUsername(string username)
        + ToggleAnonymousQuestions()
    }
    
    class AskMeSystem {
        - QuestionManager question_manager
        - UserManager user_manager
        - AuthService auth_service
        - FileManager file_manager
        + DisplayMenu()
        + Run()
        + ProcessUserChoice(int choice)
        + Initialize()
        + Shutdown()
        + DisplayQuestionsToMe()
        + DisplayQuestionsFromMe()
        + DisplayFeed()
    }
    
    AskMeSystem *-- QuestionManager
    AskMeSystem *-- UserManager
    AskMeSystem *-- AuthService
    AskMeSystem *-- FileManager
    
    AuthService --> UserManager
    
    QuestionManager o-- Question
    QuestionManager --> UserManager
    QuestionManager --> FileManager
    
    UserManager o-- User
    UserManager --> FileManager
@enduml